<div ng-show="page.loading" class="center-align">
  <div preloader></div>
</div>
<div ng-show="page.error">
      <div class="row">
        <div class="col s12 m6 offset-m3">
          <div class="card">
            <div class="card-content">
              <span class="card-title black-text">Uh Oh!</span>
              <p>{{page.errorMessage}}</p>
            </div>
            <div class="card-action">
              <a href='#' ng-click="Cancel()">Go Back</a>
            </div>
          </div>
        </div>
      </div>
</div>
<div ng-hide="page.error">
      <br><br>
      <h1 class="header center orange-text">{{meeting.Title}}</h1>

      <div class="row">
        <div class="col offset-m2 s12 m8">
            <form name="newMeeting" class="col s12">
                <div class="row">
                  <div class="input-field col s12">
                    <input id="title" type="text" class="validate" ng-model="meeting.Title" required>
                    <label class="active" for="title">Meeting Title</label>
                  </div>
                </div>
                <div class="row">
                      <div class="input-field col s12">
                        <textarea class="materialize-textarea" ng-model="meeting.description" required></textarea>
                        <label class="active">Description</label>
                      </div>
                </div>
                <div class="row">
                  <label style="padding-left: 15px;" for="startDate">Start Date</label>
                  <div class="input-field col s12">

                    <!-- Changed this div from an input 
                    <input datepicker datepicker-format="d mmmm, yyyy" id="startDate" type="date" class="datepicker" ng-model="meeting.startDate">-->
                    <input id="startDate" jsondate type="date" name="startdate" ng-model="meeting.startDate" required>
                  </div>
                </div>
                <div class="row">
                    <div class="col s4 m4">
                      <label>Hour</label>
                        <select id="hour" class="browser-default" ng-model="meeting.hour" required>
                          <option value="" selected disabled> -- </option>
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5</option>
                          <option value="6">6</option>
                          <option value="7">7</option>
                          <option value="8">8</option>
                          <option value="9">9</option>
                          <option value="10">10</option>
                          <option value="11">11</option>
                          <option value="12">12</option>
                        </select>
                    </div>
                    <div class="col s4 m4">
                      <label>Minute</label>
                        <select id="minute" class="browser-default" ng-model="meeting.minute" required>
                          <option value="" selected disabled> -- </option>
                          <option value="00">00</option>
                          <option value="15">15</option>
                          <option value="30">30</option>
                          <option value="45">45</option>
                        </select>
                    </div>
                    <div class="col s4 m4">
                      <label>AM/PM</label>
                        <select id="meridian" class="browser-default" ng-model="meeting.meridian">
                          <option value="AM" selected>AM</option>
                          <option value="PM">PM</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <p>Is this a recurring Meeting?</p>
                    <p>
                      <input class="with-gap" name="recurringmeeting" type="radio" ng-value="false" id="recurringNo" ng-model="meeting.recurring"/>
                      <label for="recurringNo">No</label>
                    </p>
                    <p>
                      <input class="with-gap" name="recurringmeeting" type="radio" ng-value="true" id="recurringYes" ng-model="meeting.recurring"/>
                      <label for="recurringYes">Yes</label>
                    </p>
                  </div>
                </div>
                <div class="row" ng-show="meeting.recurring">
                  <div class="input-field col s12">
                    <input id="occursEvery" type="text" class="validate" ng-model="meeting.occursEvery">
                    <label class="active" for="occursEvery">Occurs every</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <input id="organizer" type="text" class="validate" ng-model="meeting.organizer">
                    <label class="active" for="organizer">Organizer</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <input id="dialIn" type="text" class="validate" ng-model="meeting.dialIn">
                    <label class="active" for="dialIn">Dial In</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <input id="dcoDcs" type="text" class="validate" ng-model="meeting.dcsLink">
                    <label class="active" for="dcoDcs">DCO/DCS Link</label>
                  </div>
                </div>
                <div class="row">                
                  <h5 class="header left orange-text">Customize Appearance</h5>
                </div>
                <card-selects></card-selects>
                <!--
                <div class="row">
                    <div class="col s12 m12">
                      <label>Card Background</label>
                        <select id="cardBackground" class="browser-default" ng-model="meeting.cardColor">
                          <option value="" disabled selected>Choose your color</option>
                          <option value="light-blue darken-1">Light Blue</option>
                          <option value="cyan darken-1">Cyan</option>
                          <option value="teal darken-1">Teal</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 m6">
                      <label>Card Icon</label>
                        <select id="cardIcon" class="browser-default" ng-model="meeting.cardIcon">
                          <option value="" disabled selected>Choose your icon</option>
                          <option value="mdi-social-people">People</option>
                          <option value="mdi-action-lock">Lock</option>
                          <option value="mdi-file-cloud">Cloud</option>
                        </select>
                    </div>
                    <div class="col s12 m6">
                      <label>Card Icon Color</label>
                        <select id="cardBackground" class="browser-default" ng-model="meeting.cardIconColor">
                          <option value="white-text" selected>White</option>
                          <option value="black-text">Black</option>
                        </select>
                    </div>
                </div>-->
                <div class="row">
                  <h5>Live Preview</h5>
                  <div class="col s12 m12">
                    <!-- Here is our card Preview that is built off a directive -->
                        <meeting-card></meeting-card>
                    </div>
                </div>
                <div class="row">
                  <div class="col s12 m12">
                  <div class="card-panel">
                    <h5>Meeting Status</h5>
                    <div class="switch">
                      <label>
                        Inactive
                          <input type="checkbox" ng-model="meeting.meetingActive">
                          <span class="lever"></span>
                        Active
                      </label>
                        <a class="tooltipped grey-text darken-4-text" hastooltip data-position="right" data-delay="50" data-tooltip="Inactive meetings won't show up in the default view">
                          <i class="mdi-action-info"></i>
                        </a>
                    </div>
                  </div>
                  </div>
                </div>
                <div class="row right-align">
                      <a class="waves-effect waves-orange btn-flat modal-trigger" modal-trigger no-link href="#deleteModal">Delete</a>
                      <button class="waves-effect waves-orange btn-flat" ng-click="Cancel()">Cancel</button>
                      <div preloader ng-show="page.updating"></div>
                      <button ng-hide="page.updating" class="btn waves-effect waves-light orange darken-4" ng-click="Update(meeting)">Update
                        <i class="mdi-content-save right"></i>
                      </button>
                </div>
            </form>
          </div>
          <div clas="col-2">
            <pre id="myJSON">{{meeting | json}}
            </pre> 
          </div>
      </div>
</div>

  <!-- Modal Structure -->
  <div id="deleteModal" class="modal">
    <div class="modal-content">
      <h4>Delete this meeting?</h4>
      <p>Deleting the meeting will also delete any associated meeting notes.</p>
    </div>
    <div class="modal-footer">
      <button ng-click="ConfirmedDelete(meeting)" class="modal-action modal-close waves-effect waves-green btn-flat">Delete</button>
      <button class="modal-action modal-close waves-effect waves-orange btn-flat modal-close">Cancel</button>
    </div>
  </div>
    <div id="itemDeleted" class="modal">
    <div class="modal-content">
      <h4>The meeting was deleted</h4>
      <p>Click Close to return to the main page</p>
    </div>
    <div class="modal-footer">
      <a href="#!" no-link class="modal-action modal-close btn btn-flat waves-effect waves-grey">Close</a>
    </div>
  </div>

  